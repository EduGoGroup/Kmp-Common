# =============================================================================
# EduGo KMP Shared - Gradle Properties
# =============================================================================
# Configuración optimizada para Kotlin Multiplatform con Gradle 8.11+
# JDK 17 LTS (min) | Kotlin 2.1.20 | AGP 8.7.2
# =============================================================================

# -----------------------------------------------------------------------------
# JVM Memory Configuration
# -----------------------------------------------------------------------------
# -Xmx4g: Heap máximo de 4GB para builds grandes
# -XX:MaxMetaspaceSize=1g: Límite de metaspace para evitar OOM
# -XX:+HeapDumpOnOutOfMemoryError: Genera dump para debugging
# -XX:+UseParallelGC: GC paralelo para mejor throughput
# -Dfile.encoding=UTF-8: Encoding consistente
org.gradle.jvmargs=-Xmx4g -XX:MaxMetaspaceSize=1g -XX:+HeapDumpOnOutOfMemoryError -XX:+UseParallelGC -Dfile.encoding=UTF-8

# -----------------------------------------------------------------------------
# Gradle Performance Flags
# -----------------------------------------------------------------------------
# Ejecución paralela de módulos independientes
org.gradle.parallel=true

# Build cache para reutilizar outputs de builds anteriores
org.gradle.caching=true

# Daemon persistente para builds más rápidos
org.gradle.daemon=true

# Configuration cache (Gradle 8.1+)
org.gradle.configuration-cache=true
org.gradle.configuration-cache.problems=warn

# -----------------------------------------------------------------------------
# Kotlin Configuration
# -----------------------------------------------------------------------------
# Estilo de código oficial de Kotlin
kotlin.code.style=official

# Compilación incremental habilitada
kotlin.incremental=true
kotlin.incremental.multiplatform=true

# -----------------------------------------------------------------------------
# Kotlin Multiplatform Configuration
# -----------------------------------------------------------------------------
# Suprimir warnings de estabilidad de KMP
kotlin.mpp.stability.nowarn=true

# Habilitar commonization de C-Interop
kotlin.mpp.enableCInteropCommonization=true

# Aplicar template de jerarquía por defecto
# DESHABILITADO: Usamos jerarquía custom con jvmSharedMain
# Ver: Sprint Deuda Técnica - Historia "Migrar a jerarquía estándar jvmMain"
kotlin.mpp.applyDefaultHierarchyTemplate=false

# Android source set layout v2
kotlin.mpp.androidSourceSetLayoutVersion=2

# -----------------------------------------------------------------------------
# Android Configuration
# -----------------------------------------------------------------------------
# Usar AndroidX en lugar de Support Library
android.useAndroidX=true

# R class non-transitive para evitar conflictos
android.nonTransitiveRClass=true

# Deshabilitar BuildConfig por defecto (habilitar por módulo si necesario)
android.defaults.buildfeatures.buildconfig=false

# -----------------------------------------------------------------------------
# SDK Versions (Default - pueden ser overridden en módulos)
# -----------------------------------------------------------------------------
# Android 15 (API 35)
android.compileSdk=35
android.targetSdk=35
# Android 10 (API 29) - base moderna para KMP con IA
# Razón: Scoped Storage, TLS 1.3, NNAPI 1.2, Dark Theme nativo, ~90% dispositivos
# Features IA avanzada (Gemini Nano) requieren runtime check para Android 14+
android.minSdk=29
